{{#if glSupported}}

  {{#if map}}

    <div class="labs-map-loaded"></div>

    {{!-- Highlighted Layer Handling --}}
    {{mapbox-gl-layer
      map=map
      layer=highlightedLineFeatureLayer
    }} 
    {{mapbox-gl-layer
      map=map
      layer=highlightedCircleFeatureLayer
    }}

    {{yield (hash
      mapInstance=map
      call=(component 'mapbox-gl-call' obj=map)
      control=(component 'mapbox-gl-control' map=map)
      image=(component 'mapbox-gl-image' map=map)
      layer=(component 'mapbox-gl-layer' map=map)
      marker=(component 'mapbox-gl-marker' map=map)
      on=(component 'mapbox-gl-on' eventSource=map)
      popup=(component 'mapbox-gl-popup' map=map)
      source=(component 'mapbox-gl-source' map=map)
      labs-layers=(component 'labs-layers'
        map=map
        layerGroups=layerGroups
        hoveredFeature=hoveredFeature)
    )}}

  {{/if}}

{{else}}

  {{yield to='inverse'}}

{{/if}}
